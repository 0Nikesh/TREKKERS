{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\TREKERS\\\\frontend\\\\src\\\\pages\\\\Treks.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Button } from 'reactstrap';\nimport '../styles/trek.css';\nimport SearchBar from './../shared/SearchBar';\nimport TrekCard from './../shared/TrekCard';\nimport useFetch from '../hooks/useFetch';\nimport { BASE_URL } from '../utils/config';\nimport CommonSection from '../shared/CommonSection';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Treks = () => {\n  _s();\n  const [pageCount, setPageCount] = useState(0);\n  const [page, setPage] = useState(0);\n  const [sortByPrice, setSortByPrice] = useState(false);\n  const [priceSortDirection, setPriceSortDirection] = useState('asc');\n  const [sortByRating, setSortByRating] = useState(false);\n  const [ratingSortDirection, setRatingSortDirection] = useState('desc');\n  const {\n    data: treks,\n    loading,\n    error\n  } = useFetch(`${BASE_URL}/treks?page=${page}&sortByPrice=${sortByPrice ? 'true' : 'false'}&priceSortDirection=${priceSortDirection}&sortByRating=${sortByRating ? 'true' : 'false'}&ratingSortDirection=${ratingSortDirection}`);\n  const {\n    data: trekCount\n  } = useFetch(`${BASE_URL}/treks/search/getTrekCount`);\n  useEffect(() => {\n    const pages = Math.ceil(trekCount / 8); // backend count\n    setPageCount(pages);\n    window.scrollTo(0, 0);\n  }, [page, trekCount, treks]);\n  const handleSortByPrice = () => {\n    setSortByPrice(!sortByPrice);\n    // Toggle sorting direction\n    setPriceSortDirection(priceSortDirection === 'asc' ? 'desc' : 'asc');\n  };\n  const handleSortByRating = () => {\n    if (sortByRating) {\n      // If already sorting by rating, reset sorting\n      setSortByRating(false);\n      setRatingSortDirection('desc'); // Reset rating sort direction to descending\n    } else {\n      // If not sorting by rating, enable sorting by rating\n      setSortByRating(true);\n      setRatingSortDirection('desc'); // Set rating sort direction to descending\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CommonSection, {\n      title: 'All Treks'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"6\",\n            children: /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"6\",\n            className: \"text-md-right mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              className: \"sort-price-btn\",\n              color: \"primary\",\n              onClick: handleSortByPrice,\n              children: sortByPrice ? 'Reset Sorting' : 'Sort by Price'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"sort-rating-btn\",\n              color: \"primary\",\n              onClick: handleSortByRating,\n              children: sortByRating ? 'Reset Sorting' : 'Sort by Rating'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"pt-0\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [loading && /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center pt-5 \",\n          children: \"Loading.........\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 33\n        }, this), error && /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center pt-5 \",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 31\n        }, this), !loading && !error && /*#__PURE__*/_jsxDEV(Row, {\n          children: [treks === null || treks === void 0 ? void 0 : treks.map(trek => /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"3\",\n            md: \"6\",\n            sm: \"6\",\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(TrekCard, {\n              trek: trek\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this)\n          }, trek.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 33\n          }, this)), /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pagination d-flex align-items-center justify-content-center mt-4 gap-3\",\n              children: [...Array(pageCount).keys()].map(number => /*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: () => setPage(number),\n                className: page === number ? 'active__page' : '',\n                children: number + 1\n              }, number, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(Treks, \"bs7IkZ1Nxj4SLWSSK7isK6+a+xE=\", false, function () {\n  return [useFetch, useFetch];\n});\n_c = Treks;\nexport default Treks;\nvar _c;\n$RefreshReg$(_c, \"Treks\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Button","SearchBar","TrekCard","useFetch","BASE_URL","CommonSection","jsxDEV","_jsxDEV","Fragment","_Fragment","Treks","_s","pageCount","setPageCount","page","setPage","sortByPrice","setSortByPrice","priceSortDirection","setPriceSortDirection","sortByRating","setSortByRating","ratingSortDirection","setRatingSortDirection","data","treks","loading","error","trekCount","pages","Math","ceil","window","scrollTo","handleSortByPrice","handleSortByRating","children","title","fileName","_jsxFileName","lineNumber","columnNumber","className","md","color","onClick","map","trek","lg","sm","id","Array","keys","number","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/TREKERS/frontend/src/pages/Treks.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Button } from 'reactstrap';\r\nimport '../styles/trek.css';\r\nimport SearchBar from './../shared/SearchBar';\r\nimport TrekCard from './../shared/TrekCard';\r\nimport useFetch from '../hooks/useFetch';\r\nimport { BASE_URL } from '../utils/config';\r\nimport CommonSection from '../shared/CommonSection';\r\n\r\nconst Treks = () => {\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [page, setPage] = useState(0);\r\n    const [sortByPrice, setSortByPrice] = useState(false);\r\n    const [priceSortDirection, setPriceSortDirection] = useState('asc');\r\n    const [sortByRating, setSortByRating] = useState(false);\r\n    const [ratingSortDirection, setRatingSortDirection] = useState('desc');\r\n\r\n    const { data: treks, loading, error } = useFetch(\r\n        `${BASE_URL}/treks?page=${page}&sortByPrice=${sortByPrice ? 'true' : 'false'}&priceSortDirection=${priceSortDirection}&sortByRating=${sortByRating ? 'true' : 'false'}&ratingSortDirection=${ratingSortDirection}`\r\n    );\r\n\r\n    const { data: trekCount } = useFetch(`${BASE_URL}/treks/search/getTrekCount`);\r\n\r\n    useEffect(() => {\r\n        const pages = Math.ceil(trekCount / 8); // backend count\r\n        setPageCount(pages);\r\n        window.scrollTo(0, 0);\r\n    }, [page, trekCount, treks]);\r\n\r\n    const handleSortByPrice = () => {\r\n        setSortByPrice(!sortByPrice);\r\n        // Toggle sorting direction\r\n        setPriceSortDirection(priceSortDirection === 'asc' ? 'desc' : 'asc');\r\n    };\r\n\r\n    const handleSortByRating = () => {\r\n        if (sortByRating) {\r\n            // If already sorting by rating, reset sorting\r\n            setSortByRating(false);\r\n            setRatingSortDirection('desc'); // Reset rating sort direction to descending\r\n        } else {\r\n            // If not sorting by rating, enable sorting by rating\r\n            setSortByRating(true);\r\n            setRatingSortDirection('desc'); // Set rating sort direction to descending\r\n        }\r\n    };\r\n\r\n    \r\n\r\n    return (\r\n        <>\r\n            <CommonSection title={'All Treks'} />\r\n            <section>\r\n                <Container>\r\n                    <Row className=\"align-items-center\">\r\n                        <Col md=\"6\">\r\n                            <SearchBar />\r\n                        </Col>\r\n                        <Col md=\"6\" className=\"text-md-right mb-3\">\r\n    <Button className=\"sort-price-btn\" color='primary' onClick={handleSortByPrice}>\r\n        {sortByPrice ? 'Reset Sorting' : 'Sort by Price'}\r\n    </Button>\r\n    <Button className=\"sort-rating-btn\" color='primary' onClick={handleSortByRating}>\r\n        {sortByRating ? 'Reset Sorting' : 'Sort by Rating'}\r\n    </Button>\r\n</Col>\r\n\r\n                    </Row>\r\n                </Container>\r\n            </section>\r\n            <section className=\"pt-0\">\r\n                <Container>\r\n                    {loading && <h4 className=\"text-center pt-5 \">Loading.........</h4>}\r\n                    {error && <h4 className=\"text-center pt-5 \">{error}</h4>}\r\n                    {!loading && !error && (\r\n                        <Row>\r\n                            {treks?.map((trek) => (\r\n                                <Col lg=\"3\" md=\"6\" sm=\"6\" className=\"mb-4\" key={trek.id}>\r\n                                    <TrekCard trek={trek} />\r\n                                </Col>\r\n                            ))}\r\n                            <Col lg=\"12\">\r\n                                <div className=\"pagination d-flex align-items-center justify-content-center mt-4 gap-3\">\r\n                                    {[...Array(pageCount).keys()].map((number) => (\r\n                                        <span\r\n                                            key={number}\r\n                                            onClick={() => setPage(number)}\r\n                                            className={page === number ? 'active__page' : ''}\r\n                                        >\r\n                                            {number + 1}\r\n                                        </span>\r\n                                    ))}\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    )}\r\n                </Container>\r\n            </section>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Treks;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,QAAQ,YAAY;AACxD,OAAO,oBAAoB;AAC3B,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,OAAOC,QAAQ,MAAM,sBAAsB;AAC3C,OAAOC,QAAQ,MAAM,mBAAmB;AACxC,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,OAAOC,aAAa,MAAM,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEpD,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACmB,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAACqB,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACuB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACyB,YAAY,EAAEC,eAAe,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC2B,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG5B,QAAQ,CAAC,MAAM,CAAC;EAEtE,MAAM;IAAE6B,IAAI,EAAEC,KAAK;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGxB,QAAQ,CAC3C,GAAEC,QAAS,eAAcU,IAAK,gBAAeE,WAAW,GAAG,MAAM,GAAG,OAAQ,uBAAsBE,kBAAmB,iBAAgBE,YAAY,GAAG,MAAM,GAAG,OAAQ,wBAAuBE,mBAAoB,EACrN,CAAC;EAED,MAAM;IAAEE,IAAI,EAAEI;EAAU,CAAC,GAAGzB,QAAQ,CAAE,GAAEC,QAAS,4BAA2B,CAAC;EAE7ER,SAAS,CAAC,MAAM;IACZ,MAAMiC,KAAK,GAAGC,IAAI,CAACC,IAAI,CAACH,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;IACxCf,YAAY,CAACgB,KAAK,CAAC;IACnBG,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;EACzB,CAAC,EAAE,CAACnB,IAAI,EAAEc,SAAS,EAAEH,KAAK,CAAC,CAAC;EAE5B,MAAMS,iBAAiB,GAAGA,CAAA,KAAM;IAC5BjB,cAAc,CAAC,CAACD,WAAW,CAAC;IAC5B;IACAG,qBAAqB,CAACD,kBAAkB,KAAK,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC;EACxE,CAAC;EAED,MAAMiB,kBAAkB,GAAGA,CAAA,KAAM;IAC7B,IAAIf,YAAY,EAAE;MACd;MACAC,eAAe,CAAC,KAAK,CAAC;MACtBE,sBAAsB,CAAC,MAAM,CAAC,CAAC,CAAC;IACpC,CAAC,MAAM;MACH;MACAF,eAAe,CAAC,IAAI,CAAC;MACrBE,sBAAsB,CAAC,MAAM,CAAC,CAAC,CAAC;IACpC;EACJ,CAAC;EAID,oBACIhB,OAAA,CAAAE,SAAA;IAAA2B,QAAA,gBACI7B,OAAA,CAACF,aAAa;MAACgC,KAAK,EAAE;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACrClC,OAAA;MAAA6B,QAAA,eACI7B,OAAA,CAACV,SAAS;QAAAuC,QAAA,eACN7B,OAAA,CAACT,GAAG;UAAC4C,SAAS,EAAC,oBAAoB;UAAAN,QAAA,gBAC/B7B,OAAA,CAACR,GAAG;YAAC4C,EAAE,EAAC,GAAG;YAAAP,QAAA,eACP7B,OAAA,CAACN,SAAS;cAAAqC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACZ,CAAC,eACNlC,OAAA,CAACR,GAAG;YAAC4C,EAAE,EAAC,GAAG;YAACD,SAAS,EAAC,oBAAoB;YAAAN,QAAA,gBAC9D7B,OAAA,CAACP,MAAM;cAAC0C,SAAS,EAAC,gBAAgB;cAACE,KAAK,EAAC,SAAS;cAACC,OAAO,EAAEX,iBAAkB;cAAAE,QAAA,EACzEpB,WAAW,GAAG,eAAe,GAAG;YAAe;cAAAsB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CAAC,eACTlC,OAAA,CAACP,MAAM;cAAC0C,SAAS,EAAC,iBAAiB;cAACE,KAAK,EAAC,SAAS;cAACC,OAAO,EAAEV,kBAAmB;cAAAC,QAAA,EAC3EhB,YAAY,GAAG,eAAe,GAAG;YAAgB;cAAAkB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEmB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,eACVlC,OAAA;MAASmC,SAAS,EAAC,MAAM;MAAAN,QAAA,eACrB7B,OAAA,CAACV,SAAS;QAAAuC,QAAA,GACLV,OAAO,iBAAInB,OAAA;UAAImC,SAAS,EAAC,mBAAmB;UAAAN,QAAA,EAAC;QAAgB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAClEd,KAAK,iBAAIpB,OAAA;UAAImC,SAAS,EAAC,mBAAmB;UAAAN,QAAA,EAAET;QAAK;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EACvD,CAACf,OAAO,IAAI,CAACC,KAAK,iBACfpB,OAAA,CAACT,GAAG;UAAAsC,QAAA,GACCX,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEqB,GAAG,CAAEC,IAAI,iBACbxC,OAAA,CAACR,GAAG;YAACiD,EAAE,EAAC,GAAG;YAACL,EAAE,EAAC,GAAG;YAACM,EAAE,EAAC,GAAG;YAACP,SAAS,EAAC,MAAM;YAAAN,QAAA,eACtC7B,OAAA,CAACL,QAAQ;cAAC6C,IAAI,EAAEA;YAAK;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC,GADoBM,IAAI,CAACG,EAAE;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAElD,CACR,CAAC,eACFlC,OAAA,CAACR,GAAG;YAACiD,EAAE,EAAC,IAAI;YAAAZ,QAAA,eACR7B,OAAA;cAAKmC,SAAS,EAAC,wEAAwE;cAAAN,QAAA,EAClF,CAAC,GAAGe,KAAK,CAACvC,SAAS,CAAC,CAACwC,IAAI,CAAC,CAAC,CAAC,CAACN,GAAG,CAAEO,MAAM,iBACrC9C,OAAA;gBAEIsC,OAAO,EAAEA,CAAA,KAAM9B,OAAO,CAACsC,MAAM,CAAE;gBAC/BX,SAAS,EAAE5B,IAAI,KAAKuC,MAAM,GAAG,cAAc,GAAG,EAAG;gBAAAjB,QAAA,EAEhDiB,MAAM,GAAG;cAAC,GAJNA,MAAM;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAKT,CACT;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CACR;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC;EAAA,eACZ,CAAC;AAEX,CAAC;AAAC9B,EAAA,CA3FID,KAAK;EAAA,QAQiCP,QAAQ,EAIpBA,QAAQ;AAAA;AAAAmD,EAAA,GAZlC5C,KAAK;AA6FX,eAAeA,KAAK;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}